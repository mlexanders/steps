@using Steps.Shared.Contracts.TestResults.ViewModels
@using Radzen.Blazor
@using Steps.Shared
@inherits Steps.Client.Features.Common.ManageBaseComponent<SoloResult, Steps.Shared.Contracts.TestResults.ViewModels.SoloResultViewModel, Steps.Shared.Contracts.TestResults.ViewModels.CreateSoloResultViewModel, Steps.Shared.Contracts.TestResults.ViewModels.UpdateSoloResultViewModel>

<RadzenFieldset Text="Результаты спортсмена (Соло)">
    <RadzenRow>
        <RadzenColumn Size="6">
            <RadzenStack Gap="1rem">
                <p><strong>ID спортсмена:</strong> @Model.AthleteId</p>
                <p><strong>Имя спортсмена:</strong> @Model.Athlete?.FullName</p>
                <p><strong>ID мероприятия:</strong> @Model.ContestId</p>
            </RadzenStack>
        </RadzenColumn>

        <RadzenColumn Size="6">
            <RadzenStack Gap="2rem">
                <div>
                    <h4>Баллы</h4>
                    <RadzenListBox TValue="int" Data="@Model.Scores"
                                   Style="width: 100%; height: 150px;"
                                   AllowVirtualization="false"
                                   Multiple="false" />
                </div>
            </RadzenStack>
        </RadzenColumn>
    </RadzenRow>

    <RadzenRow>
        <RadzenColumn Size="12">
            <RadzenCard Style="margin-top: 1rem;">
                <h3>Элементы спортсмена</h3>
                <RadzenStack Gap="1rem">
                    @for (int i = 0; i < 5; i++)
                    {
                        var index = i;
                        <RadzenRow>
                            <RadzenColumn Size="6">
                                <p><strong>Элемент @(index + 1):</strong></p>
                            </RadzenColumn>
                            <RadzenColumn Size="6">
                                <p><strong>Балл:</strong> @Model.Scores.ElementAtOrDefault(index)</p>
                            </RadzenColumn>
                        </RadzenRow>
                    }
                </RadzenStack>
            </RadzenCard>
        </RadzenColumn>
    </RadzenRow>

    <RadzenRow>
        <RadzenColumn Size="12">
            <RadzenCard Style="margin-top: 1rem;">
                <h3>Комментарии по критериям</h3>
                <RadzenStack Gap="1rem">
                    <div>
                        <p><strong>Техника танца:</strong></p>
                        <RadzenTextArea Value="@Model.DanceTechniqueComment" 
                                       Style="width: 100%; min-height: 60px;"
                                       ReadOnly="true" />
                    </div>

                    <div>
                        <p><strong>Техника выполнения элементов:</strong></p>
                        <RadzenTextArea Value="@Model.ElementsTechniqueComment" 
                                       Style="width: 100%; min-height: 60px;"
                                       ReadOnly="true" />
                    </div>

                    <div>
                        <p><strong>Хореография:</strong></p>
                        <RadzenTextArea Value="@Model.ChoreographyComment" 
                                       Style="width: 100%; min-height: 60px;"
                                       ReadOnly="true" />
                    </div>

                    <div>
                        <p><strong>Коммуникация:</strong></p>
                        <RadzenTextArea Value="@Model.CommunicationComment" 
                                       Style="width: 100%; min-height: 60px;"
                                       ReadOnly="true" />
                    </div>

                    <div>
                        <p><strong>Общее впечатление:</strong></p>
                        <RadzenTextArea Value="@Model.GeneralImpressionComment" 
                                       Style="width: 100%; min-height: 60px;"
                                       ReadOnly="true" />
                    </div>
                </RadzenStack>
            </RadzenCard>
        </RadzenColumn>
    </RadzenRow>
</RadzenFieldset>

@code {
    [Parameter] public SoloResultViewModel Model { get; set; } = null!;
    protected override Task<Specification<SoloResult>?> GetSpecification()
    {
        throw new NotImplementedException();
    }

}
