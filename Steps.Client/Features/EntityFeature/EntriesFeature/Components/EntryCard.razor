@using Microsoft.AspNetCore.Authorization
@attribute [Authorize]

<RadzenCard Style="width: 100%; max-width: 600px; margin: 0 auto; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
    <ChildContent>
        <div style="padding: 20px;">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; border-bottom: 1px solid #f0f0f0; padding-bottom: 10px;">
                <RadzenText Style="font-size: 1.5rem; font-weight: 500;">Заявка №@Model.Number</RadzenText>
                <RadzenBadge Text="@(Model.IsSuccess ? "Принята" : "На рассмотрении")"
                             Variant="@(Model.IsSuccess ? Variant.Filled : Variant.Outlined)" />
            </div>

            <div style="margin-bottom: 20px;">
                <RadzenText Style="display: block; margin-bottom: 10px; color: #666;">
                    <strong>Мероприятие:</strong> @Model.ContestName
                </RadzenText>
                
                <RadzenText Style="display: block; margin-bottom: 10px; color: #666;">
                    <strong>Команда:</strong> @Model.Team?.Name
                </RadzenText>
            </div>

            @if (Model.Athletes?.Any() == true)
            {
                <div style="margin-bottom: 25px;">
                    <RadzenText Style="font-weight: 500; display: block; margin-bottom: 10px;">Участники:</RadzenText>
                    <RadzenListBox Style="width: 100%; border: 1px solid #f0f0f0; border-radius: 4px;"
                                   TValue="Athlete"
                                   Data="@Model.Athletes"
                                   TextProperty="FullName">
                    </RadzenListBox>
                </div>
            }

            <div style="display: flex; gap: 10px; margin-top: 20px;">
                @ChildContent
            </div>
        </div>
    </ChildContent>
</RadzenCard>
