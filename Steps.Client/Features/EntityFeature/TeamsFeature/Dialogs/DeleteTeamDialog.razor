@using Steps.Client.Features.EntityFeature.TeamsFeature.Services
@using Steps.Shared.Contracts.Contests.ViewModels
@using Steps.Shared.Contracts.Teams.ViewModels

@inherits BaseModal
@inject TeamsManager Manager

<RadzenTemplateForm TItem="ContestViewModel" Submit="Create">

    <RadzenText Text="Вы уверены, что хотите удалить эту команду?"/>

    <TeamCard Model="@Model"/>

    <RadzenButton Text="Да, удалить" Icon="save" Click="Create" ButtonStyle="ButtonStyle.Danger"/>
    <RadzenButton Text="Отмена" Icon="cancel" Click="() => Close()" ButtonStyle="ButtonStyle.Primary"
                  Style="margin-left: 10px;"/>
</RadzenTemplateForm>

@code {
    [Parameter] public TeamViewModel Model { get; set; } = null!;

    private async Task Create()
    {
        var result = await Manager.Delete(Model);

        ShowResultMessage(result);

        if (result.IsSuccess) Close(true);
    }

}