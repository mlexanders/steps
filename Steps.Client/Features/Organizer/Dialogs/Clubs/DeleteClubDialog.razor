@using Steps.Shared.Contracts.Contests.ViewModels
@using Steps.Client.Features.Organizer.Services.Club
@using Steps.Shared.Contracts.Clubs.ViewModels
@using Steps.Client.Features.Organizer.Components.Club

@inherits BaseModal
@inject ClubsManager Manager

<RadzenTemplateForm TItem="ContestViewModel" Submit="Create">

    <RadzenText Text="Вы уверены, что хотите удалить этот клуб?"/>

    <ClubCard Club="@Contest"/>

    <RadzenButton Text="Да, удалить" Icon="save" Click="Create" ButtonStyle="ButtonStyle.Danger"/>
    <RadzenButton Text="Отмена" Icon="cancel" Click="() => Close()" ButtonStyle="ButtonStyle.Primary"
                  Style="margin-left: 10px;"/>
</RadzenTemplateForm>

@code {
    [Parameter] public ClubViewModel Contest { get; set; } = null!;

    private async Task Create()
    {
        var result = await Manager.Delete(Contest);

        ShowResultMessage(result);

        if (result.IsSuccess) Close(true);
    }

}